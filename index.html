<!DOCTYPE html>
<html>
<head>
    <title>Tracker Nepro Gold</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        #map { height: 600px; }
        body { font-family: Arial, sans-serif; background-color: #f4f4f4; }
        h1 { text-align: center; color: #333; }
        .leaflet-popup-content { font-size: 14px; color: #444; }
    </style>
</head>
<body>
    <h1>Seguimiento Ficticio de Nepro Gold</h1>
    <div id="map"></div>
    <script>
        const map = L.map('map').setView([48.8566, 2.3522], 5); // Centro en Europa
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        const locations = [
            { date: new Date(2025, 11, 1), city: 'Zwolle', lat: 52.5125, lng: 6.09444 },
            { date: new Date(2025, 11, 2), city: 'Breda', lat: 51.58656, lng: 4.77596 },
            { date: new Date(2025, 11, 3), city: 'Amberes', lat: 51.21945, lng: 4.40246 },
            { date: new Date(2025, 11, 4), city: 'Amberes', lat: 51.21945, lng: 4.40246 },
            { date: new Date(2025, 11, 5), city: 'Gante', lat: 51.05434, lng: 3.71742 },
            { date: new Date(2025, 11, 6), city: 'Gante', lat: 51.05434, lng: 3.71742 },
            { date: new Date(2025, 11, 7), city: 'Gante', lat: 51.05434, lng: 3.71742 },
            { date: new Date(2025, 11, 8), city: 'Lila', lat: 50.63297, lng: 3.05858 },
            { date: new Date(2025, 11, 9), city: 'Lila', lat: 50.63297, lng: 3.05858 },
            { date: new Date(2025, 11, 10), city: 'Lila', lat: 50.63297, lng: 3.05858 },
            { date: new Date(2025, 11, 11), city: 'Lila', lat: 50.63297, lng: 3.05858 },
            { date: new Date(2025, 11, 12), city: 'Lila', lat: 50.63297, lng: 3.05858 },
            { date: new Date(2025, 11, 13), city: 'Lila', lat: 50.63297, lng: 3.05858 },
            { date: new Date(2025, 11, 14), city: 'Paris', lat: 48.85341, lng: 2.3488 },
            { date: new Date(2025, 11, 15), city: 'Paris', lat: 48.85341, lng: 2.3488 },
            { date: new Date(2025, 11, 16), city: 'Paris', lat: 48.85341, lng: 2.3488 },
            { date: new Date(2025, 11, 17), city: 'Paris', lat: 48.85341, lng: 2.3488 },
            { date: new Date(2025, 11, 18), city: 'Paris', lat: 48.85341, lng: 2.3488 },
            { date: new Date(2025, 11, 19), city: 'Paris', lat: 48.85341, lng: 2.3488 },
            { date: new Date(2025, 11, 20), city: 'Paris', lat: 48.85341, lng: 2.3488 },
            { date: new Date(2025, 11, 21), city: 'Paris', lat: 48.85341, lng: 2.3488 },
            { date: new Date(2025, 11, 22), city: 'Paris', lat: 48.85341, lng: 2.3488 },
            { date: new Date(2025, 11, 23), city: 'Paris', lat: 48.85341, lng: 2.3488 },
            { date: new Date(2025, 11, 24), city: 'Paris', lat: 48.85341, lng: 2.3488 },
            { date: new Date(2025, 11, 25), city: 'Paris', lat: 48.85341, lng: 2.3488 },
            { date: new Date(2025, 11, 26), city: 'Burdeos', lat: 44.84044, lng: -0.5805 },
            { date: new Date(2025, 11, 27), city: 'Burdeos', lat: 44.84044, lng: -0.5805 },
            { date: new Date(2025, 11, 28), city: 'Burdeos', lat: 44.84044, lng: -0.5805 },
            { date: new Date(2025, 11, 29), city: 'Burdeos', lat: 44.84044, lng: -0.5805 },
            { date: new Date(2025, 11, 30), city: 'Burdeos', lat: 44.84044, lng: -0.5805 },
            { date: new Date(2025, 11, 31), city: 'Burdeos', lat: 44.84044, lng: -0.5805 },
            { date: new Date(2026, 0, 1), city: 'Burdeos', lat: 44.84044, lng: -0.5805 },
            { date: new Date(2026, 0, 2), city: 'Burdeos', lat: 44.84044, lng: -0.5805 },
            { date: new Date(2026, 0, 3), city: 'Burdeos', lat: 44.84044, lng: -0.5805 },
            { date: new Date(2026, 0, 4), city: 'San Sebastian', lat: 43.31833, lng: -1.98123 },
            { date: new Date(2026, 0, 5), city: 'San Sebastian', lat: 43.31833, lng: -1.98123 },
            { date: new Date(2026, 0, 6), city: 'San Sebastian', lat: 43.31833, lng: -1.98123 },
            { date: new Date(2026, 0, 7), city: 'San Sebastian', lat: 43.31833, lng: -1.98123 },
            { date: new Date(2026, 0, 8), city: 'San Sebastian', lat: 43.31833, lng: -1.98123 },
            { date: new Date(2026, 0, 9), city: 'Madrid', lat: 40.4165, lng: -3.70256 }
        ];

        const currentDate = new Date();
        let currentIndex = 0;
        for (let i = 0; i < locations.length; i++) {
            if (currentDate >= locations[i].date) {
                currentIndex = i;
            } else {
                break;
            }
        }

        // Dibujar ruta hasta posición actual
        const routeCoords = locations.slice(0, currentIndex + 1).map(loc => [loc.lat, loc.lng]);
        L.polyline(routeCoords, {color: 'gold', weight: 5, dashArray: '5, 10'}).addTo(map); // Línea dorada animada-like

        // Marker actual con icon custom (usa url gratis de truck icon)
        const truckIcon = L.icon({
            iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png', // Cambia a tu icon oro/camión
            iconSize: [25, 41],
            iconAnchor: [12, 41],
            popupAnchor: [1, -34]
        });
        const currentLoc = locations[currentIndex];
        const marker = L.marker([currentLoc.lat, currentLoc.lng], {icon: truckIcon}).addTo(map);
        marker.bindPopup(`<b>Día ${currentIndex + 1}: En ${currentLoc.city}</b><br>Expectación para llegada a Madrid.`).openPopup();

        // Ajustar vista al ruta
        if (routeCoords.length > 0) {
            map.fitBounds(routeCoords);
        }
    </script>
</body>
</html>